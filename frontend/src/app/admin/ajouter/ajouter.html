<div class="form-container">
  <h2>Ajouter un nouveau client</h2>

  <!-- Message de succès/erreur -->
  <div *ngIf="message" [class]="isError ? 'message-error' : 'message-success'">
    {{ message }}
  </div>

  <form [formGroup]="clientForm" (submit)="onSubmit()">
    
    <!-- Ligne 1 : Nom & Prénom -->
    <div class="form-row">
      <div class="form-group">
        <label>Nom *</label>
        <input type="text" formControlName="nom" required>
        <div *ngIf="clientForm.get('nom')?.invalid && clientForm.get('nom')?.touched" 
             class="error-text">
          Le nom est obligatoire
        </div>
      </div>
      
      <div class="form-group">
        <label>Prénom *</label>
        <input type="text" formControlName="prenom" required>
        <div *ngIf="clientForm.get('prenom')?.invalid && clientForm.get('prenom')?.touched" 
             class="error-text">
          Le prénom est obligatoire
        </div>
      </div>
    </div>

    <!-- Ligne 2 : Email & Téléphone -->
    <div class="form-row">
      <div class="form-group">
        <label>Email *</label>
        <input type="email" formControlName="email" required>
        <div *ngIf="clientForm.get('email')?.invalid && clientForm.get('email')?.touched" 
             class="error-text">
          <span *ngIf="clientForm.get('email')?.errors?.['required']">Email requis</span>
          <span *ngIf="clientForm.get('email')?.errors?.['email']">Email invalide</span>
        </div>
      </div>
      
      <div class="form-group">
        <label>Téléphone</label>
        <input type="tel" formControlName="telephone">
      </div>
    </div>

    <!-- Ligne 3 : Date de naissance & Sexe -->
    <div class="form-row">
      <div class="form-group">
        <label>Date de naissance</label>
        <input max="{{ getMaxDate() }}" type="date" formControlName="dateNaissance" required>
      </div>
      
      <div class="form-group">
        <label>Sexe</label>
        <select formControlName="sexe" required>
          <option value="">Sélectionner</option>
          <option value="MASCULIN">Masculin</option>
          <option value="FEMININ">Féminin</option>
        </select>
      </div>
    </div>

    <!-- Ligne 4 : Adresse -->
    <div class="form-group full-width">
      <label>Adresse</label>
      <textarea formControlName="adresse" rows="2" required></textarea>
      <div *ngIf="clientForm.get('adresse')?.invalid && clientForm.get('adresse')?.touched" 
           class="error-text">
        <span *ngIf="clientForm.get('adresse')?.errors?.['required']">L'adresse est obligatoire</span>
      </div>
    </div>

    <!-- Ligne 5 : Nationalité -->
    <div class="form-group full-width">
      <label>Nationalité</label>
      <input type="text" formControlName="nationalite" required>
      <div *ngIf="clientForm.get('nationalite')?.invalid && clientForm.get('nationalite')?.touched" 
           class="error-text">
        <span *ngIf="clientForm.get('nationalite')?.errors?.['required']">La nationalité est obligatoire</span>
      </div>
    </div>

    <!-- Boutons -->
    <div class="form-actions">
      <button type="button" class="btn cancel" routerLink="/admin/clients">
        Annuler
      </button>
      <button type="submit" class="btn submit" [disabled]="clientForm.invalid">
        <span>Enregistrer</span>
      </button>
    </div>
  </form>
</div>