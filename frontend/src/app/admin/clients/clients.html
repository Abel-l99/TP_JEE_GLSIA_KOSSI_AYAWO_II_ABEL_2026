<section class="clients-section">
  <div class="section-header">
    <h3>Liste des Clients</h3>
    <button class="btn add" routerLink="/admin/clients/ajouter">Ajouter un client</button>
    <input 
      type="text" 
      placeholder="Rechercher un client..." 
      class="search-bar"
      [(ngModel)]="recherche"
      (input)="onRechercheChange()"
    >
      @if (recherche) {
        <button class="btn-clear-search" (click)="reinitialiserRecherche()" title="Effacer la recherche">
          Ã—
        </button>
      }
  </div>

  <table class="clients-table">
    <thead>
      <tr>
        <th>Nom</th>
        <th>Email</th>
        <th>Nombre de comptes</th>
        <th>Action</th>
      </tr>
    </thead>

    <tbody>
      @for (client of clientsFiltres; track client) {
      <tr>
        <td>{{ client.nom }} {{ client.prenom }}</td>
        <td>{{ client.email }}</td>
        <td>{{ client.nombreComptes || 0 }}</td>
        <td>
          <button class="btn edit" routerLink="/admin/comptes/ajouter/{{ client.id }}">Ajouter un compte</button>
        </td>
      </tr>
    }
    </tbody>
  </table>
</section>